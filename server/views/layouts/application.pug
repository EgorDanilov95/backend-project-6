include ../mixins/forms.pug

doctype html
html(lang="ru").h-100
  head
    title Менеджер задач
    script(src=assetPath('main.js'))
    link(href=assetPath('main.css') rel="stylesheet")
    meta(name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no")
  body.d-flex.flex-column.h-100.bg-light
  
    header.bg-white.shadow-sm.border-bottom.mb-4
      .container
        nav.navbar.navbar-expand-lg.navbar-light.py-3
          a.navbar-brand.fw-bold.text-primary.fs-4(href=route('root'))= t('appName')
          
          button.navbar-toggler(type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent")
            span.navbar-toggler-icon
          
          #navbarContent.collapse.navbar-collapse
            ul.navbar-nav.me-auto.mb-2.mb-lg-0
              li.nav-item
                a.nav-link.px-3(href=route('users') class={ 'active fw-bold text-dark': currentRoute === 'users' })= t('layouts.application.users')
            ul.navbar-nav.gap-2
              if isAuthenticated()
                li.nav-item
                  +buttonTo(route('session'), 'delete')(class="btn btn-outline-danger btn-sm px-3 fw-medium" value=t('layouts.application.signOut'))
              else
                li.nav-item
                  a.nav-link.px-3(href=route('newSession') class={ 'active fw-bold text-dark': currentRoute === 'newSession' })= t('layouts.application.signIn')
                li.nav-item
                  a.btn.btn-primary.px-4.shadow-sm(href=route('newUser'))= t('layouts.application.signUp')
    main.container.wrapper.flex-grow-1
      if reply.flash
        each messages, type in reply.flash() || []
          each message in messages
            .alert.alert-dismissible.fade.show(class=`alert-${getAlertClass(type)}` role="alert")
              = message
              button.btn-close(type="button" data-bs-dismiss="alert" aria-label="Close")

      .row.justify-content-center
        .col-12
          h1.display-4.fw-bold.my-4
            block header
          block content
          
    footer.footer.mt-auto.py-4.bg-white.border-top
      .container.text-center
        span.text-muted.small © 2026 Менеджер задач Хекслет
